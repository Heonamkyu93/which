<!DOCTYPE html>
<html th:replace="~{layout/mainFrame :: mainFrame(~{::title},~{::section},~{::link})}"
      xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>비밀번호변경폼</title>
    <link rel="stylesheet" th:href="@{/customCss/default.css}">
</head>
<body>
<section>


    <form action="./user/password-change" th:action="@{/user/password-change}" method="post" enctype="application/x-www-form-urlencoded" onsubmit="return valid();">
        <div class="row">
            <div class="col-4">
            </div>
            <div class="col-4">
                <input type="hidden" id="memberId" name="memberId" th:value="*{memberId}">
                <label for="memberPassword" th:text="${param.wrong != null ? param.wrong : '비밀번호'}"></label>
                <input type="text" class="form-control" th:name="memberPassword" th:id="memberPassword" required
                >
            </div>
            <div class="col-4"></div>
        </div>
        <br/>
        <div class="row">
            <div class="col-4">
            </div>
            <div class="col-4">
                <label for="memberPassword2" th:text="비밀번호확인"></label>
                <input type="text" id="memberPassword2" name="memberPassword2" class="form-control" required
                >
            </div>
            <div class="col-4" id="notice"></div>
        </div>
        <br/>
        <div class="row">
            <div class="col-4"></div>
            <div class="col-4">
                <button class="w-100 btn btn-primary btn-lg" type="submit">비밀번호변경</button>
            </div>
            <div class="col-4"></div>
        </div>

    </form>
    <script th:inline="javascript">
        let memberPassword = document.getElementById('memberPassword').value;
        let memberPassword2=document.getElementById('memberPassword2').value;

        function valid(){
            if(memberPassword!==memberPassword2){
                const notice = document.getElementById('notice');
                notice.innerHTML='<span style="color: red">비밀번호와 비밀번호확인은 값이 같아야합니다.</span>';
                return false;
            }
        }


    </script>


</section>
</body>
</html>